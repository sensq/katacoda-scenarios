# コンテナイメージをビルドする

コンテナイメージを作成することを「ビルド」と言います。  
ここまでコンテナイメージはすべてPullしてきたものを使用していましたが、
独自のアプリケーションを動かしたい場合は動かすための設定やファイル配置などを行ったコンテナイメージを作成する必要が出てくる場合があります。  
ただし、独自のコンテナイメージを作成するとそのコンテナイメージの管理も自分たちで行わなくてはならないため、運用管理の観点からはデメリットになってしまうという面もあります。  
ここではコンテナイメージ作成についてのみ記載しますが、実用的に使いこなすためには他にも様々なノウハウが要求されます。

## Dockerでコンテナイメージをビルドする

Alpineイメージにbashを入れただけのコンテナイメージをビルドします。  
なお、ビルドしている内容は同ディレクトリに配置されている`Dockerfile`に定義されています。  
コンテナイメージのビルドとは、基本的に`Dockerfile`を作成してビルドコマンドを実行する操作のことになります。

```bash
cd build_image
docker image build . -t bash_alpine
```{{execute}}

コンテナイメージが作成されたことを確認します。  
`alpine`よりも若干サイズが大きい`bash_alpine`というイメージが作成されていることを確認できます。

```bash
docker image ls
```{{execute}}

## Docker Composeでコンテナイメージをビルドする

`docker-compose.yaml`にビルド定義を記述しておき、Docker Composeでビルドすることもできます。  
`build_image`ディレクトリに配置されている`docker-compose.yaml`の内容を確認し、以下コマンドを実行してください。

```bash
docker-compose build
```{{execute}}
